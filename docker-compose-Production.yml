version: '3.8'

services:
  backend:
    # üö® CAMBIO CLAVE: Usamos la imagen ya construida de Docker Hub
    image: orescosoft/contactoushuaia-backend:latest
    container_name: contacto-backend
    
    # ‚ùå QUITADO: Ya no necesitamos 'build'
    # ‚ùå QUITADO: Ya no necesitamos 'volumes' si solo vas a correr la aplicaci√≥n
    #            (A menos que necesites persistencia de datos)
    
    ports:
      - "8000:8000"  # Puerto expuesto en la VM. Accedido por el frontend y/o NGINX.
    restart: unless-stopped
    networks:
      - app_network # (Recomendado para comunicaci√≥n interna segura)

  frontend:
    # üö® CAMBIO CLAVE: Usamos la imagen ya construida de Docker Hub
    image: orescosoft/contactoushuaia-frontend:latest
    container_name: contacto-frontend

    # ‚ùå QUITADO: Ya no necesitamos 'build'
    # ‚ùå QUITADO: Ya no necesitamos 'volumes'
    
    ports:
      - "8080:80"  # Mapea el puerto 80 interno del contenedor al 8080 de la VM.
    depends_on:
      - backend
    restart: unless-stopped
    networks:
      - app_network # (Recomendado para comunicaci√≥n interna segura)

networks:
  app_network:
    driver: bridge