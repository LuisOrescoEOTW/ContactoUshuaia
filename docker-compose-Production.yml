# Docker Compose para producciÃ³n
# Cambiar el nombre: mv docker-compose-Production.yml docker-compose.yml
version: '3.8'

services:
  backend:
    # ðŸš¨ CAMBIO CLAVE: Usamos la imagen ya construida de Docker Hub
    image: orescosoft/contactoushuaia-backend:latest
    container_name: contacto-backend
    
    ports:
      - "8000:8000"  # Puerto expuesto en la VM. Accedido por el frontend y/o NGINX.
    restart: unless-stopped
    networks:
      - app_network # (Recomendado para comunicaciÃ³n interna segura)

  frontend:
    # ðŸš¨ CAMBIO CLAVE: Usamos la imagen ya construida de Docker Hub
    image: orescosoft/contactoushuaia-frontend:latest
    container_name: contacto-frontend

    ports:
      - "8080:80"  # Mapea el puerto 80 interno del contenedor al 8080 de la VM.
    depends_on:
      - backend
    restart: unless-stopped
    networks:
      - app_network # (Recomendado para comunicaciÃ³n interna segura)

networks:
  app_network:
    driver: bridge